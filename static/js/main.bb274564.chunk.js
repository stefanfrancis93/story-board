(this["webpackJsonpstory-board"]=this["webpackJsonpstory-board"]||[]).push([[0],{45:function(e,t,n){e.exports=n(73)},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),o=n.n(i),c=n(4),s=n(38),d=n(21),l=n(9),p=n(10),u=n(12),m=n(11),h=n(13),g=n(75),x=n(42),b=n(5),f=n(77),v=n(76),y="LIST",I="CARD",C="FETCH_LISTS",O="ADD_COLUMN",j="ADD_CARD",D="SHIFT_CARD",k="REMOVE_CARD",E="SWAP_CARD",A="SWAP_LIST";var S={listCard:{backgroundColor:"#fff",borderRadius:3,boxShadow:"0 1px 0 rgba(9,30,66,.25)",cursor:"pointer",display:"block",marginBottom:8,maxWidth:300,minHeight:20,position:"relative",textDecoration:"none",zIndex:0},listCardDetails:{overflow:"hidden",padding:"6px 8px",position:"relative",zIndex:10}},w=Object(v.a)(I,{beginDrag:function(e){return e}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))((function(e){var t=e.card,n=(e.handleRemoveCard,e.index,e.createdAt,e.description,e.connectDragSource);e.isDragging;return n(r.a.createElement("div",{className:"list-card",style:S.listCard},r.a.createElement("div",{className:"list-card-details",style:S.listCardDetails},r.a.createElement("span",{className:"list-card-title"},t.title),r.a.createElement("span",{className:"list-card-description",style:{display:"none"}},t.description))))})),N=n(40),T=n.n(N),R=function(){return function(e){setTimeout((function(){T.a.get("./data.json").then((function(t){e({type:"FETCH_LISTS",payload:t.data})})).catch((function(e){console.log(e)}))}),1e3)}};function H(e,t){return{type:j,title:e,columnIndex:t}}function L(e){return{type:O,columnName:e}}function B(e,t){return{type:k,cardIndex:e,columnIndex:t}}var W={drop:function(e,t){var n=t.getItem(),a={src:{columnIndex:n.parentIndex,cardIndex:n.index},target:{columnIndex:e.parentIndex,cardIndex:e.index}};n.parentIndex&&n.index&&e.parentIndex&&e.index&&e.dispatch({type:E,src:a.src,target:a.target})},canDrop:function(){return!0}};var z=Object(f.a)(I,W,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((function(e){var t=e.isOver,n=e.connectDropTarget,a=e.card,i=e.handleRemoveCard,o=e.index,c=e.parentIndex;return n(r.a.createElement("div",{style:{opacity:t?.5:1}},r.a.createElement(w,{createdAt:a.createdAt,description:a.description,index:o,card:a,parentIndex:c,handleRemoveCard:i})))})),_=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={idle:!0,title:""},n.handleAddItem=function(){n.setState({idle:!1})},n.handleCloseButton=function(){n.setState({idle:!0})},n.add=function(e){if(e.preventDefault(),!n.state.title||!n.state.title.length)return!1;console.log(n.state.title),"card"===n.props.item?n.props.dispatch(H(n.state.title,n.props.index)):n.props.dispatch(L(n.state.title)),n.setState({title:""}),n.handleCloseButton()},n.handleTitleChange=function(e){n.setState({title:e.target.value})},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"add-item item-wrapper",style:Object(b.a)({},F.itemWrapper,{},F.addItem,{backgroundColor:this.state.idle?"hsla(0,0%,100%,.24)":"#ebecf0",cursor:this.state.idle?"default":"pointer",margin:"card"===this.props.item?0:"0 4px"})},r.a.createElement("form",null,r.a.createElement("a",{className:"open-add-item js-open-add-item",href:"#",style:{textDecoration:"none"},onClick:this.handleAddItem},r.a.createElement("span",{className:"placeholder",style:Object(b.a)({},F.placeholder,{display:this.state.idle?"block":"none",color:"card"===this.props.item?"#5e6c84":"#fff"}),onClick:this.handleAddItem},r.a.createElement("span",{className:"icon-sm icon-add"}),"Add another ",this.props.item)),r.a.createElement("input",{className:"item-name-input",type:"text",name:"name",placeholder:"Enter ".concat(this.props.item," title..."),autoComplete:"off",dir:"auto",maxLength:"512",style:Object(b.a)({},F.itemNameInput,{display:this.state.idle?"none":"block"}),value:this.state.title,onChange:this.handleTitleChange}),r.a.createElement("div",{className:"item-add-controls",style:Object(b.a)({},F.itemAddControls,{display:this.state.idle?"none":"block"})},r.a.createElement("input",{className:"item-add-button",type:"submit",value:"Add ".concat(this.props.item),style:F.itemAddButton,onClick:this.add}),r.a.createElement("a",{className:"icon-lg icon-close dark-hover js-cancel-edit",href:"#",style:F.closeButton,onClick:this.handleCloseButton},"Close"))))}}]),t}(r.a.Component),F={addItem:{borderRadius:3,height:"auto",minHeight:32,padding:4,transition:"background 85ms ease-in,opacity 40ms ease-in,border-color 85ms ease-in"},itemWrapper:{maxWidth:272,width:"100%",height:"100%",boxSizing:"border-box",display:"inline-block",verticalAlign:"top",whiteSpace:"nowrap"},placeholder:{padding:"6px 8px",transition:"color 85ms ease-in"},itemNameInput:{color:"#172b4d",boxSizing:"border-box",WebkitAppearance:"none",borderRadius:3,lineHeight:"20px",padding:"8px 12px",background:"#fff",border:"none",boxShadow:"inset 0 0 0 2px #0079bf",transition:"margin 85ms ease-in,background 85ms ease-in",width:"100%",borderColor:"transparent",cursor:"pointer",display:"none",margin:0},itemAddControls:{height:32,transition:"margin 85ms ease-in,height 85ms ease-in",overflow:"hidden",margin:"4px 0 0"},itemAddButton:{borderRadius:3,cursor:"pointer",display:"inline-block",fontWeight:400,lineHeight:"20px",margin:"8px 4px 0 0",padding:"6px 12px",textAlign:"center",float:"left",minHeight:32,height:32,marginTop:0,paddingTop:4,paddingBottom:4,backgroundColor:"#5aac44",boxShadow:"none",border:"none",color:"#fff"},closeButton:{lineHeight:"32px",textDecoration:"none",color:"#000",margin:"0 15px"},modAdd:{backgroundColor:"#ebecf0",borderRadius:3,height:"auto",minHeight:32,padding:4,transition:"background 85ms ease-in,opacity 40ms ease-in,border-color 85ms ease-in"}},M=_;var J={drop:function(e,t){var n,a,r=t.getItem();r.parentIndex!==e.index&&e.dispatch((n={index:r.parentIndex,cardIndex:r.index},a={index:e.index},{type:D,targetColumnIndex:a.index,srcColumnIndex:n.index,srcCardIndex:n.cardIndex}))},canDrop:function(e){return e.list.title&&e.list.title.length}};var P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).renderCards=function(){return n.props.list.cards.map((function(e,t){return r.a.createElement(z,{card:e,key:t,dispatch:n.props.dispatch,handleRemoveCard:n.handleRemoveCard,index:t,parentIndex:n.props.index})}))},n.handleRemoveCard=function(e){return function(){return n.props.dispatch(B(e,n.props.index))}},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.connectDragSource(this.props.connectDropTarget(r.a.createElement("div",{className:"list-wrapper",style:Object(b.a)({},q.listWrapper,{opacity:this.props.isDragging?.25:1})},r.a.createElement("div",{className:"list",style:q.list},r.a.createElement("div",{className:"list-header",style:q.header},r.a.createElement("h2",{className:"list-header-name",style:q.headerName},this.props.list.listTitle)),r.a.createElement("div",{className:"list-cards",style:q.listCards},this.renderCards()),r.a.createElement(M,{item:"card",index:this.props.index,dispatch:this.props.dispatch})))))}}]),t}(r.a.Component),q={listWrapper:{width:272,margin:"0 4px",height:"100%",boxSizing:"border-box",display:"inline-block",verticalAlign:"top",whiteSpace:"nowrap"},list:{backgroundColor:"#ebecf0",borderRadius:3,boxSizing:"border-box",display:"flex",flexDirection:"column",maxHeight:"100%",position:"relative",whiteSpace:"normal"},header:{flex:"0 0 auto",padding:"10px 8px",position:"relative",minHeight:20},headerName:{padding:"4px 8px",color:"#172b4d"},listCards:{flex:"1 1 auto",marginBottom:0,overflowY:"auto",overflowX:"hidden",margin:"0 4px",padding:"0 4px",zIndex:1,minHeight:0}},U=Object(v.a)(I,{beginDrag:function(e){return e}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Object(f.a)(I,J,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(P)),V={drop:function(e,t){var n={src:{columnIndex:t.getItem().parentIndex},target:{columnIndex:e.parentIndex}};console.log(n),e.dispatch({type:A,src:n.src,target:n.target})},canDrop:function(){return!0}};var X=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).renderLists=function(){return n.props.lists.map((function(e,t){return r.a.createElement(U,{list:e,key:t,index:t,dispatch:n.props.dispatch})}))},n.handleOnDrop=function(e){console.log(e)},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchLists()}},{key:"render",value:function(){return this.props.connectDropTarget(r.a.createElement("div",{className:"board",style:{padding:"10px 5px"}},r.a.createElement("h1",{className:"main-title",style:{fontSize:30,color:"#fff",fontFamily:"fantasy",textAlign:"center"}},"Story Board"),this.renderLists(),r.a.createElement(M,{item:"list",index:this.props.index,dispatch:this.props.dispatch})))}}]),t}(r.a.Component),Y=Object(f.a)(y,V,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(d.b)((function(e){return{lists:e.lists.columns}}),(function(e){return Object(b.a)({dispatch:e},Object(c.bindActionCreators)({fetchLists:R},e))}))(X)),G=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{style:{height:"100%"}},r.a.createElement(g.a,{backend:x.a},r.a.createElement(Y,null)))}}]),t}(r.a.Component),K=n(43),Q={columns:[{title:"",cards:[]}]},Z=Object(c.combineReducers)({lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n={},a=Object(K.a)(e.columns);switch(t.type){case C:return t.payload;case O:(a=[].concat(e.columns)).push({listTitle:t.columnName,cards:[{id:0,createdAt:1578631247197,title:'This is a card. Drag it onto "Tried It" to show it\'s done.',description:""}]}),n={columns:a};break;case j:a[t.columnIndex].cards.push({createdAt:Date.now(),title:t.title}),n=Object(b.a)({},a);break;case D:var r=t.srcColumnIndex,i=t.targetColumnIndex,o=t.srcCardIndex;if(r!==i){var c=Object.assign({},a[r].cards[o]);a[r].cards.splice(o,1),a[i].cards.push(c),n={columns:a}}break;case E:var s=t.src,d=t.target,l=[a[s.columnIndex].cards[d.cardIndex],a[d.columnIndex].cards[s.cardIndex]];a[s.columnIndex].cards[s.cardIndex]=l[0],a[d.columnIndex].cards[d.cardIndex]=l[1],n={columns:a};break;case A:var p=t.srcList,u=t.targetList,m=[a[p.columnIndex],a[u.columnIndex]];a[p.columnIndex]=m[0],a[u.columnIndex]=m[1],n={columns:a};break;default:n=e}return Object.assign({},e,n)}}),$=(n(72),n(41)),ee=Object(c.createStore)(Z,Object(s.composeWithDevTools)(Object(c.applyMiddleware)($.a)));o.a.render(r.a.createElement(d.a,{store:ee},r.a.createElement(G,null)),document.querySelector("#root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.bb274564.chunk.js.map