(this["webpackJsonpstory-board"]=this["webpackJsonpstory-board"]||[]).push([[0],{45:function(e,t,a){e.exports=a(73)},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),o=a.n(i),s=a(5),c=a(38),d=a(21),l=a(6),p=a(7),m=a(10),u=a(8),h=a(11),g=a(75),x=a(42),b=a(4),f=a(77),C=a(76),v="LIST",y="CARD",I="FETCH_LISTS",O="ADD_COLUMN",k="ADD_CARD",j="SHIFT_CARD",E="REMOVE_CARD",D="SWAP_CARD",S="SWAP_LIST";var w={listCard:{backgroundColor:"#fff",borderRadius:3,boxShadow:"0 1px 0 rgba(9,30,66,.25)",cursor:"pointer",display:"block",marginBottom:8,maxWidth:300,minHeight:20,position:"relative",textDecoration:"none",zIndex:0},listCardDetails:{overflow:"hidden",padding:"6px 8px",position:"relative",zIndex:10}},N=Object(C.a)(y,{beginDrag:function(e){return e}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))((function(e){var t=e.card,a=(e.handleRemoveCard,e.index,e.createdAt,e.description,e.connectDragSource),n=(e.isDragging,e.handleCardClick);return a(r.a.createElement("div",{className:"list-card",style:w.listCard,onClick:function(){return n(t)}},r.a.createElement("div",{className:"list-card-details",style:w.listCardDetails},r.a.createElement("span",{className:"list-card-title"},t.title),r.a.createElement("span",{className:"list-card-description",style:{display:"none"}},t.description))))})),A=a(40),T=a.n(A),R=function(){return function(e){setTimeout((function(){T.a.get("./data.json").then((function(t){e({type:"FETCH_LISTS",payload:t.data})})).catch((function(e){console.log(e)}))}),1e3)}};function W(e,t){return{type:k,title:e,columnIndex:t}}function z(e){return{type:O,columnName:e}}function H(e,t){return{type:E,cardIndex:e,columnIndex:t}}var B={drop:function(e,t){var a=t.getItem(),n={src:{columnIndex:a.parentIndex,cardIndex:a.index},target:{columnIndex:e.parentIndex,cardIndex:e.index}};a.parentIndex&&a.index&&e.parentIndex&&e.index&&e.dispatch({type:D,src:n.src,target:n.target})},canDrop:function(){return!0}};var L=Object(f.a)(y,B,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((function(e){var t=e.isOver,a=e.connectDropTarget,n=e.card,i=e.handleRemoveCard,o=e.index,s=e.parentIndex,c=e.handleCardClick;return a(r.a.createElement("div",{style:{opacity:t?.5:1}},r.a.createElement(N,{createdAt:n.createdAt,description:n.description,index:o,card:n,parentIndex:s,handleRemoveCard:i,handleCardClick:c})))})),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={idle:!0,title:""},a.handleAddItem=function(){a.setState({idle:!1})},a.handleCloseButton=function(){a.setState({idle:!0})},a.add=function(e){if(e.preventDefault(),!a.state.title||!a.state.title.length)return!1;console.log(a.state.title),"card"===a.props.item?a.props.dispatch(W(a.state.title,a.props.index)):a.props.dispatch(z(a.state.title)),a.setState({title:""}),a.handleCloseButton()},a.handleTitleChange=function(e){a.setState({title:e.target.value})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"add-item item-wrapper",style:Object(b.a)({},_.itemWrapper,{},_.addItem,{backgroundColor:this.state.idle?"hsla(0,0%,100%,.24)":"#ebecf0",cursor:this.state.idle?"default":"pointer",margin:"card"===this.props.item?0:"0 4px"})},r.a.createElement("form",null,r.a.createElement("a",{className:"open-add-item js-open-add-item",href:"#",style:{textDecoration:"none"},onClick:this.handleAddItem},r.a.createElement("span",{className:"placeholder",style:Object(b.a)({},_.placeholder,{display:this.state.idle?"block":"none",color:"card"===this.props.item?"#5e6c84":"#fff"}),onClick:this.handleAddItem},r.a.createElement("span",{className:"icon-sm icon-add"}),"Add another ",this.props.item)),r.a.createElement("input",{className:"item-name-input",type:"text",name:"name",placeholder:"Enter ".concat(this.props.item," title..."),autoComplete:"off",dir:"auto",maxLength:"512",style:Object(b.a)({},_.itemNameInput,{display:this.state.idle?"none":"block"}),value:this.state.title,onChange:this.handleTitleChange}),r.a.createElement("div",{className:"item-add-controls",style:Object(b.a)({},_.itemAddControls,{display:this.state.idle?"none":"block"})},r.a.createElement("input",{className:"item-add-button",type:"submit",value:"Add ".concat(this.props.item),style:_.itemAddButton,onClick:this.add}),r.a.createElement("a",{className:"icon-lg icon-close dark-hover js-cancel-edit",href:"#",style:_.closeButton,onClick:this.handleCloseButton},"Close"))))}}]),t}(r.a.Component),_={addItem:{borderRadius:3,height:"auto",minHeight:32,padding:4,transition:"background 85ms ease-in,opacity 40ms ease-in,border-color 85ms ease-in"},itemWrapper:{maxWidth:272,width:"100%",height:"100%",boxSizing:"border-box",display:"inline-block",verticalAlign:"top",whiteSpace:"nowrap"},placeholder:{padding:"6px 8px",transition:"color 85ms ease-in"},itemNameInput:{color:"#172b4d",boxSizing:"border-box",WebkitAppearance:"none",borderRadius:3,lineHeight:"20px",padding:"8px 12px",background:"#fff",border:"none",boxShadow:"inset 0 0 0 2px #0079bf",transition:"margin 85ms ease-in,background 85ms ease-in",width:"100%",borderColor:"transparent",cursor:"pointer",display:"none",margin:0},itemAddControls:{height:32,transition:"margin 85ms ease-in,height 85ms ease-in",overflow:"hidden",margin:"4px 0 0"},itemAddButton:{borderRadius:3,cursor:"pointer",display:"inline-block",fontWeight:400,lineHeight:"20px",margin:"8px 4px 0 0",padding:"6px 12px",textAlign:"center",float:"left",minHeight:32,height:32,marginTop:0,paddingTop:4,paddingBottom:4,backgroundColor:"#5aac44",boxShadow:"none",border:"none",color:"#fff"},closeButton:{lineHeight:"32px",textDecoration:"none",color:"#000",margin:"0 15px"},modAdd:{backgroundColor:"#ebecf0",borderRadius:3,height:"auto",minHeight:32,padding:4,transition:"background 85ms ease-in,opacity 40ms ease-in,border-color 85ms ease-in"}},F=M;var Y={drop:function(e,t){var a,n,r=t.getItem();r.parentIndex!==e.index&&e.dispatch((a={index:r.parentIndex,cardIndex:r.index},n={index:e.index},{type:j,targetColumnIndex:n.index,srcColumnIndex:a.index,srcCardIndex:a.cardIndex}))},canDrop:function(e){return e.list.title&&e.list.title.length}};var J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).renderCards=function(){return a.props.list.cards.map((function(e,t){return r.a.createElement(L,{card:e,key:t,dispatch:a.props.dispatch,handleRemoveCard:a.handleRemoveCard,index:t,parentIndex:a.props.index,handleCardClick:a.props.handleCardClick})}))},a.handleRemoveCard=function(e){return function(){return a.props.dispatch(H(e,a.props.index))}},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.connectDragSource(this.props.connectDropTarget(r.a.createElement("div",{className:"list-wrapper",style:Object(b.a)({},P.listWrapper,{opacity:this.props.isDragging?.25:1})},r.a.createElement("div",{className:"list",style:P.list},r.a.createElement("div",{className:"list-header",style:P.header},r.a.createElement("h2",{className:"list-header-name",style:P.headerName},this.props.list.listTitle)),r.a.createElement("div",{className:"list-cards",style:P.listCards},this.renderCards()),r.a.createElement(F,{item:"card",index:this.props.index,dispatch:this.props.dispatch})))))}}]),t}(r.a.Component),P={listWrapper:{width:272,margin:"0 4px",height:"100%",boxSizing:"border-box",display:"inline-block",verticalAlign:"top",whiteSpace:"nowrap"},list:{backgroundColor:"#ebecf0",borderRadius:3,boxSizing:"border-box",display:"flex",flexDirection:"column",maxHeight:"100%",position:"relative",whiteSpace:"normal"},header:{flex:"0 0 auto",padding:"10px 8px",position:"relative",minHeight:20},headerName:{padding:"4px 8px",color:"#172b4d"},listCards:{flex:"1 1 auto",marginBottom:0,overflowY:"auto",overflowX:"hidden",margin:"0 4px",padding:"0 4px",zIndex:1,minHeight:0}},q=Object(C.a)(y,{beginDrag:function(e){return e}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Object(f.a)(y,Y,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(J)),U={drop:function(e,t){var a={src:{columnIndex:t.getItem().parentIndex},target:{columnIndex:e.parentIndex}};console.log(a),e.dispatch({type:S,src:a.src,target:a.target})},canDrop:function(){return!0}};var V=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).renderLists=function(){return a.props.lists.map((function(e,t){return r.a.createElement(q,{list:e,key:t,index:t,dispatch:a.props.dispatch,handleCardClick:a.props.handleCardClick})}))},a.handleOnDrop=function(e){console.log(e)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchLists()}},{key:"render",value:function(){return this.props.connectDropTarget(r.a.createElement("div",{className:"board",style:{padding:"10px 5px"}},r.a.createElement("h1",{className:"main-title",style:{fontSize:30,color:"#fff",fontFamily:"fantasy",textAlign:"center"}},"Story Board"),this.renderLists(),r.a.createElement(F,{item:"list",index:this.props.index,dispatch:this.props.dispatch})))}}]),t}(r.a.Component),X=Object(f.a)(v,U,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(d.b)((function(e){return{lists:e.lists.columns}}),(function(e){return Object(b.a)({dispatch:e},Object(s.bindActionCreators)({fetchLists:R},e))}))(V)),G=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.show&&r.a.createElement("div",{className:"popup",style:K.popupWrapper},this.props.children,r.a.createElement("div",{className:"list-card",style:Object(b.a)({},K.listCard,{},K.popupCard)},r.a.createElement("div",{className:"list-card-details",style:K.listCardDetails},r.a.createElement("div",{className:"field-wrapper",style:{margin:"10px 0"}},r.a.createElement("span",{className:"title-label",style:{display:"block",fontSize:20}},"Title:"),r.a.createElement("span",{className:"list-card-title"},this.props.card.title)),this.props.card.description&&r.a.createElement("div",{className:"field-wrapper",style:{margin:"10px 0"}},r.a.createElement("span",{className:"desc-label",style:{display:"block",fontSize:20}},"Description:"),r.a.createElement("span",{className:"list-card-description"},this.props.card.description))),r.a.createElement("span",{className:"close",onClick:this.props.close,style:{position:"absolute",top:10,right:10,zIndex:999}},"Close")))}}]),t}(r.a.Component),K={popupWrapper:{zIndex:9999,position:"fixed",top:0,bottom:0,left:0,right:0,background:"rgba(0, 0, 0, 0.5)"},listCard:{backgroundColor:"#fff",borderRadius:3,boxShadow:"0 1px 0 rgba(9,30,66,.25)",cursor:"pointer",display:"block",marginBottom:8,maxWidth:500,minHeight:20,position:"relative",textDecoration:"none",zIndex:0},popupCard:{top:"calc(50% - 125px)",height:250,left:0,right:0,margin:"auto"},listCardDetails:{overflow:"hidden",padding:"20px",position:"relative",zIndex:10,top:"50%",WebkitTransform:"translateY(-50%)",MsTransform:"translateY(-50%)",transform:"translateY(-50%)"}},Q=G,Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={show:!1,card:[]},a.handleCardClick=function(e){a.openModal(),a.setState({card:e})},a.openModal=function(){a.setState({show:!0})},a.closeModal=function(){a.setState({show:!1})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{style:{height:"100%"}},r.a.createElement(g.a,{backend:x.a},r.a.createElement(X,{handleCardClick:this.handleCardClick}),r.a.createElement(Q,{show:this.state.show,close:this.closeModal,card:this.state.card})))}}]),t}(r.a.Component),$=a(43),ee={columns:[{title:"",cards:[]}]},te=Object(s.combineReducers)({lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,a={},n=Object($.a)(e.columns);switch(t.type){case I:return t.payload;case O:(n=[].concat(e.columns)).push({listTitle:t.columnName,cards:[{id:0,createdAt:1578631247197,title:'This is a card. Drag it onto "Tried It" to show it\'s done.',description:""}]}),a={columns:n};break;case k:n[t.columnIndex].cards.push({createdAt:Date.now(),title:t.title}),a=Object(b.a)({},n);break;case j:var r=t.srcColumnIndex,i=t.targetColumnIndex,o=t.srcCardIndex;if(r!==i){var s=Object.assign({},n[r].cards[o]);n[r].cards.splice(o,1),n[i].cards.push(s),a={columns:n}}break;case D:var c=t.src,d=t.target,l=[n[c.columnIndex].cards[d.cardIndex],n[d.columnIndex].cards[c.cardIndex]];n[c.columnIndex].cards[c.cardIndex]=l[0],n[d.columnIndex].cards[d.cardIndex]=l[1],a={columns:n};break;case S:var p=t.srcList,m=t.targetList,u=[n[p.columnIndex],n[m.columnIndex]];n[p.columnIndex]=u[0],n[m.columnIndex]=u[1],a={columns:n};break;default:a=e}return Object.assign({},e,a)}}),ae=(a(72),a(41)),ne=Object(s.createStore)(te,Object(c.composeWithDevTools)(Object(s.applyMiddleware)(ae.a)));o.a.render(r.a.createElement(d.a,{store:ne},r.a.createElement(Z,null)),document.querySelector("#root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.2558977f.chunk.js.map